"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[228],{489:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(87),o="Movies_list__60yww",i="Movies_item__JuFo4",c="Movies_link__AT-t+",s=n(184),u=function(e){var t=e.movies,n=e.location;return(0,s.jsx)("ul",{className:o,children:t.map((function(e){var t=e.id,o=e.title,u=e.name;return(0,s.jsx)("li",{className:i,children:(0,s.jsx)(r.OL,{className:c,to:"/movies/".concat(t),state:{from:n},children:null!==o&&void 0!==o?o:u})},t)}))})}},449:function(e,t,n){n.d(t,{SB:function(){return s},Vs:function(){return c},bI:function(){return u},fS:function(){return i},ge:function(){return o}});var r=n(41),o=function(){return fetch("https://api.themoviedb.org/3/trending/all/day?language=en-US",r.Y).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong"))}))},i=function(e){return fetch("".concat(r.b.request).concat(e,"?language=en-US"),r.Y).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong"))}))},c=function(e){return fetch("".concat(r.b.request).concat(e,"/credits"),r.Y).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong"))}))},s=function(e){return fetch("".concat(r.b.request).concat(e,"/reviews"),r.Y).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong"))}))},u=function(e){return fetch("".concat(r.b.searchMovie,"?query=").concat(e,"&include_adult=false&language=en-US&page=1"),r.Y).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong"))}))}},41:function(e,t,n){n.d(t,{Y:function(){return o},b:function(){return r}});var r={request:"https://api.themoviedb.org/3/movie/",key:"b95b13270f44be3e23d3c62e0852c09c",token:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiOTViMTMyNzBmNDRiZTNlMjNkM2M2MmUwODUyYzA5YyIsInN1YiI6IjY1OTQzYTZkMDI4ZjE0NzY5NGM3MjJkNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.cmSUhygmIIjUC6Ea5HsTcu7XR4RoGg8-6MjFJfqrV7k",getImage:"https://image.tmdb.org/t/p/w500",searchMovie:"https://api.themoviedb.org/3/search/movie"},o={method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat(r.token)}}},228:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(439),o=n(791),i=n(689),c=n(87),s=n(182),u=n(355),a=n(489),h=n(637),f="SearchMovies_form__HxQNH",l="SearchMovies_input__erXo9",m="SearchMovies_button__B86kT",d="SearchMovies_error__K-13S",g=n(449),v=n(184),p=function(){var e,t=(0,o.useState)([]),n=(0,r.Z)(t,2),p=n[0],j=n[1],_=(0,o.useState)(""),w=(0,r.Z)(_,2),b=w[0],k=w[1],y=(0,o.useState)("idle"),M=(0,r.Z)(y,2),N=M[0],I=M[1],x=(0,o.useState)(""),S=(0,r.Z)(x,2),Z=S[0],J=S[1],Y=(0,i.TH)(),O=(0,c.lr)(),T=(0,r.Z)(O,2),q=T[0],E=T[1],U=null!==(e=q.get("query"))&&void 0!==e?e:"";(0,o.useEffect)((function(){U&&(I("pending"),(0,g.bI)(U).then((function(e){var t=e.results.map((function(e){return{id:e.id,title:e.title}}));if(0===t.length)return I("error"),void J('Nothing found for your request "'.concat(U,'"'));j(t),I("resolved")})).catch((function(e){I("error"),J(e.message)})))}),[U]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("form",{className:f,onSubmit:function(e){e.preventDefault(),""!==b.trim()?(E({query:b}),k("")):s.Am.warn("Please enter your request")},children:[(0,v.jsx)("input",{type:"text",className:l,name:"searchQuery",value:b,onChange:function(e){k(e.currentTarget.value)}}),(0,v.jsx)("button",{type:"submit",className:m,children:(0,v.jsx)(u.U41,{})})]}),"pending"===N&&(0,v.jsx)(h.Z,{}),"error"===N&&(0,v.jsx)("h1",{className:d,children:Z}),"resolved"===N&&(0,v.jsx)(a.Z,{movies:p,location:Y}),(0,v.jsx)(s.Ix,{position:"top-right",autoClose:3e3})]})}}}]);
//# sourceMappingURL=228.9013b700.chunk.js.map