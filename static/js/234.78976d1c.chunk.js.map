{"version":3,"file":"static/js/234.78976d1c.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","components/services/api.js","components/services/support.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviewsList\":\"Reviews_reviewsList__hDAQA\",\"reviewsListItem\":\"Reviews_reviewsListItem__FIdwO\",\"author\":\"Reviews_author__CqYAZ\",\"notFound\":\"Reviews_notFound__FzYY5\",\"error\":\"Reviews_error__urRRw\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchGetMovieReviews } from 'components/services/api';\nimport Loader from 'components/Loader';\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState('');\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    setStatus('pending');\n    fetchGetMovieReviews(movieId)\n      .then(data => {\n        const { results } = data;\n        const currentReviews = results.map(({ author, content, id }) => {\n          return { author, content, id };\n        });\n        setReviews(currentReviews);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setStatus('error');\n        setError(error.message);\n      });\n  }, [movieId]);\n  return (\n    <>\n      {status === 'pending' && <Loader />}\n      {status === 'error' && <h1 className={css.error}>{error}</h1>}\n      {status === 'resolved' && (\n        <section className={css.sectionReviews}>\n          {\n            <ul className={css.reviewsList}>\n              {reviews.length > 0 ? (\n                reviews.map(({ author, content, id }) => {\n                  return (\n                    <li key={id} className={css.reviewsListItem}>\n                      <p className={css.author}>Author: {author}</p>\n                      <p className={css.content}>{content}</p>\n                    </li>\n                  );\n                })\n              ) : (\n                <li className={css.notFound}>\n                  We don`t have any reviews for this movie\n                </li>\n              )}\n            </ul>\n          }\n        </section>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n","import { API, options } from './support';\n\nexport const fetchGetTrendingMovies = () => {\n  return fetch(\n    'https://api.themoviedb.org/3/trending/all/day?language=en-US',\n    options\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetMovieDetails = id => {\n  return fetch(`${API.request}${id}?language=en-US`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetCastMovie = id => {\n  return fetch(`${API.request}${id}/credits`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetMovieReviews = id => {\n  return fetch(`${API.request}${id}/reviews`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchSearchMovies = searchQuery => {\n  return fetch(\n    `${API.searchMovie}?query=${searchQuery}&include_adult=false&language=en-US&page=1`,\n    options\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n","export const API = {\n  request: 'https://api.themoviedb.org/3/movie/',\n  key: 'b95b13270f44be3e23d3c62e0852c09c',\n  token:\n    'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiOTViMTMyNzBmNDRiZTNlMjNkM2M2MmUwODUyYzA5YyIsInN1YiI6IjY1OTQzYTZkMDI4ZjE0NzY5NGM3MjJkNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.cmSUhygmIIjUC6Ea5HsTcu7XR4RoGg8-6MjFJfqrV7k',\n  getImage: 'https://image.tmdb.org/t/p/w500',\n  searchMovie: 'https://api.themoviedb.org/3/search/movie',\n};\n\nexport const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${API.token}`,\n  },\n};\n"],"names":["_useState","useState","_useState2","_slicedToArray","reviews","setReviews","_useState3","_useState4","status","setStatus","_useState5","_useState6","error","setError","movieId","useParams","useEffect","fetchGetMovieReviews","then","data","currentReviews","results","map","_ref","author","content","id","catch","message","_jsxs","_Fragment","children","_jsx","Loader","className","css","length","_ref2","fetchGetTrendingMovies","fetch","options","res","ok","json","Promise","reject","Error","fetchGetMovieDetails","concat","API","fetchGetCastMovie","fetchSearchMovies","searchQuery","request","key","token","getImage","searchMovie","method","headers","accept","Authorization"],"sourceRoot":""}