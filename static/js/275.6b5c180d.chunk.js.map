{"version":3,"file":"static/js/275.6b5c180d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Cast/Cast.module.css?c9ee","components/Cast/Cast.jsx","components/services/api.js","components/services/support.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"sectionCast\":\"Cast_sectionCast__SKgFY\",\"castList\":\"Cast_castList__ARoWn\",\"castListItem\":\"Cast_castListItem__CF66s\",\"image\":\"Cast_image__mOsuM\",\"notFound\":\"Cast_notFound__SweOj\",\"error\":\"Cast_error__hQWWB\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchGetCastMovie } from 'components/services/api';\nimport { API } from 'components/services/support';\nimport Loader from 'components/Loader';\nimport css from './Cast.module.css';\nimport defaultImage from '../services/DefaultImage/defaultimage.jpg';\n\nconst Cast = () => {\n  const [cast, setCast] = useState([]);\n  const [error, setError] = useState('');\n  const [status, setStatus] = useState('idle');\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    setStatus('pending');\n    fetchGetCastMovie(movieId)\n      .then(({ cast }) => {\n        const dataCastMovie = cast.map(\n          ({ name, profile_path, character, id }) => {\n            return { name, profile: profile_path, character, id };\n          }\n        );\n        setCast(dataCastMovie);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setStatus('error');\n        setError(error.message);\n      });\n  }, [movieId]);\n\n  return (\n    <>\n      {status === 'pending' && <Loader />}\n      {status === 'error' && <h1 className={css.error}>{error}</h1>}\n      {status === 'resolved' && (\n        <section className={css.sectionCast}>\n          {\n            <ul className={css.castList}>\n              {cast.length > 0 ? (\n                cast.map(({ profile, name, character, id }) => {\n                  return (\n                    <li key={id} className={css.castListItem}>\n                      <img\n                        className={css.image}\n                        src={\n                          profile ? `${API.getImage}${profile}` : defaultImage\n                        }\n                        alt={name}\n                      />\n                      <p>{name}</p>\n                      <p>Character: {character}</p>\n                    </li>\n                  );\n                })\n              ) : (\n                <li className={css.notFound} key={1}>\n                  We don`t have any cast for this movie\n                </li>\n              )}\n            </ul>\n          }\n        </section>\n      )}\n    </>\n  );\n};\n\nexport default Cast;\n","import { API, options } from './support';\n\nexport const fetchGetTrendingMovies = () => {\n  return fetch(\n    'https://api.themoviedb.org/3/trending/all/day?language=en-US',\n    options\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetMovieDetails = id => {\n  return fetch(`${API.request}${id}?language=en-US`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetCastMovie = id => {\n  return fetch(`${API.request}${id}/credits`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetMovieReviews = id => {\n  return fetch(`${API.request}${id}/reviews`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchSearchMovies = searchQuery => {\n  return fetch(\n    `${API.searchMovie}?query=${searchQuery}&include_adult=false&language=en-US&page=1`,\n    options\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n","export const API = {\n  request: 'https://api.themoviedb.org/3/movie/',\n  key: 'b95b13270f44be3e23d3c62e0852c09c',\n  token:\n    'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiOTViMTMyNzBmNDRiZTNlMjNkM2M2MmUwODUyYzA5YyIsInN1YiI6IjY1OTQzYTZkMDI4ZjE0NzY5NGM3MjJkNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.cmSUhygmIIjUC6Ea5HsTcu7XR4RoGg8-6MjFJfqrV7k',\n  getImage: 'https://image.tmdb.org/t/p/w500',\n  searchMovie: 'https://api.themoviedb.org/3/search/movie',\n};\n\nexport const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${API.token}`,\n  },\n};\n"],"names":["_useState","useState","_useState2","_slicedToArray","cast","setCast","_useState3","_useState4","error","setError","_useState5","_useState6","status","setStatus","movieId","useParams","useEffect","fetchGetCastMovie","then","_ref","dataCastMovie","map","_ref2","name","profile","profile_path","character","id","catch","message","_jsxs","_Fragment","children","_jsx","Loader","className","css","length","_ref3","src","concat","API","defaultImage","alt","fetchGetTrendingMovies","fetch","options","res","ok","json","Promise","reject","Error","fetchGetMovieDetails","fetchGetMovieReviews","fetchSearchMovies","searchQuery","request","key","token","getImage","searchMovie","method","headers","accept","Authorization"],"sourceRoot":""}