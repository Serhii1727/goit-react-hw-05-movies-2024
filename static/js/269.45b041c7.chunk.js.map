{"version":3,"file":"static/js/269.45b041c7.chunk.js","mappings":"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","sources":["components/services/api.js","components/services/support.js","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.styled.jsx","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import { API, options } from './support';\n\nexport const fetchGetTrendingMovies = () => {\n  return fetch(\n    'https://api.themoviedb.org/3/trending/all/day?language=en-US',\n    options\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetMovieDetails = id => {\n  return fetch(`${API.request}${id}?language=en-US`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetCastMovie = id => {\n  return fetch(`${API.request}${id}/credits`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetMovieReviews = id => {\n  return fetch(`${API.request}${id}/reviews`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchSearchMovies = searchQuery => {\n  return fetch(\n    `${API.searchMovie}?query=${searchQuery}&include_adult=false&language=en-US&page=1`,\n    options\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n","export const API = {\n  request: 'https://api.themoviedb.org/3/movie/',\n  key: 'b95b13270f44be3e23d3c62e0852c09c',\n  token:\n    'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiOTViMTMyNzBmNDRiZTNlMjNkM2M2MmUwODUyYzA5YyIsInN1YiI6IjY1OTQzYTZkMDI4ZjE0NzY5NGM3MjJkNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.cmSUhygmIIjUC6Ea5HsTcu7XR4RoGg8-6MjFJfqrV7k',\n  getImage: 'https://image.tmdb.org/t/p/w500',\n  searchMovie: 'https://api.themoviedb.org/3/search/movie',\n};\n\nexport const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${API.token}`,\n  },\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"sectionButton\":\"MovieDetails_sectionButton__RnRf9\",\"button\":\"MovieDetails_button__uXZxd\",\"icon\":\"MovieDetails_icon__p4rqP\",\"containerMovie\":\"MovieDetails_containerMovie__w5e--\",\"imageContainer\":\"MovieDetails_imageContainer__U65ba\",\"image\":\"MovieDetails_image__c1FeV\",\"conteinerInfo\":\"MovieDetails_conteinerInfo__wTw9U\",\"containerTitle\":\"MovieDetails_containerTitle__Pz4pJ\",\"title\":\"MovieDetails_title__cUGs9\",\"sectionAditionalInfo\":\"MovieDetails_sectionAditionalInfo__NJ1Le\",\"nameMovie\":\"MovieDetails_nameMovie__P+qsG\",\"infoScore\":\"MovieDetails_infoScore__mVRqR\",\"overviewTitle\":\"MovieDetails_overviewTitle__WmGe8\",\"overviewInfo\":\"MovieDetails_overviewInfo__AdqQw\",\"genresTitle\":\"MovieDetails_genresTitle__6SHlq\",\"dateRelease\":\"MovieDetails_dateRelease__uSm76\",\"aditionalList\":\"MovieDetails_aditionalList__4Mane\",\"aditionalListItem\":\"MovieDetails_aditionalListItem__BCIKZ\",\"genresList\":\"MovieDetails_genresList__2o809\",\"genre\":\"MovieDetails_genre__+tTbx\",\"notFoundGenres\":\"MovieDetails_notFoundGenres__XimUU\",\"error\":\"MovieDetails_error__uOHXe\"};","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const Link = styled(NavLink)`\n  text-decoration: none;\n\n  &.active {\n    color: orange;\n  }\n`;\n","import { useState, useEffect, Suspense } from 'react';\nimport { Outlet, useParams, useLocation } from 'react-router-dom';\nimport { IoMdArrowRoundBack } from 'react-icons/io';\nimport { fetchGetMovieDetails } from 'components/services/api';\nimport { API } from 'components/services/support';\nimport Loader from 'components/Loader';\nimport css from './MovieDetails.module.css';\nimport { Link } from './MovieDetails.styled';\nimport defaultImage from '../../components/services/DefaultImage/defaultimage.jpg';\n\nconst MovieDetails = () => {\n  const [movieDetails, setMovieDetails] = useState({});\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState('');\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  const backLinkHref = location.state?.from ?? '/';\n\n  useEffect(() => {\n    setStatus('pending');\n    fetchGetMovieDetails(movieId)\n      .then(\n        ({\n          title,\n          overview,\n          genres,\n          vote_average,\n          poster_path,\n          release_date,\n        }) => {\n          const date = new Date(release_date);\n          const dateRelease = date.getFullYear();\n\n          const userScore = Math.ceil(vote_average * 10);\n          setMovieDetails({\n            title,\n            overview,\n            genres,\n            userScore,\n            poster: poster_path,\n            dateRelease,\n          });\n          setStatus('resolved');\n        }\n      )\n      .catch(error => {\n        setStatus('error');\n        setError(error.message);\n      });\n  }, [movieId]);\n\n  const { title, overview, genres, userScore, poster, dateRelease } =\n    movieDetails;\n\n  return (\n    <>\n      <main className={css.main}>\n        <section className={css.sectionButton}>\n          <Link to={backLinkHref}>\n            <button type=\"button\" className={css.button}>\n              <span className={css.icon}>\n                <IoMdArrowRoundBack />\n              </span>\n              <span> Go back</span>\n            </button>\n          </Link>\n        </section>\n        {status === 'pending' && <Loader />}\n        {status === 'error' && <h1 className={css.error}>{error}</h1>}\n        {status === 'resolved' && (\n          <>\n            <section className={css.containerMovie}>\n              <div className={css.imageContainer}>\n                <img\n                  src={\n                    movieDetails.poster\n                      ? `${API.getImage}${poster}`\n                      : defaultImage\n                  }\n                  alt={title}\n                  className={css.image}\n                />\n              </div>\n\n              <div className={css.conteinerInfo}>\n                <h1 className={css.title}>\n                  <span className={css.nameMovie}>\n                    {title ? title : 'Not Found'}\n                  </span>\n                  <span>(</span>\n                  <span>{dateRelease ? dateRelease : 'Not found'}</span>\n                  <span>)</span>\n                </h1>\n\n                <p className={css.infoScore}>\n                  User score: {userScore ? `${userScore}%` : 'Not Found'}\n                </p>\n                <h2 className={css.overviewTitle}>Overview</h2>\n                <p className={css.overviewInfo}>\n                  {overview ? overview : 'Not Found'}\n                </p>\n                <h3 className={css.genresTitle}>Genres</h3>\n                <ul className={css.genresList}>\n                  {genres && genres.length > 0 ? (\n                    genres.map(({ id, name }) => {\n                      return (\n                        <li key={id} className={css.genre}>\n                          {name}\n                        </li>\n                      );\n                    })\n                  ) : (\n                    <li className={css.notFoundGenres}>Not found</li>\n                  )}\n                </ul>\n              </div>\n            </section>\n            <section className={css.sectionAditionalInfo}>\n              <p>Additional Information</p>\n              <ul className={css.aditionalList}>\n                <li className={css.aditionalListItem}>\n                  <Link to=\"cast\" state={{ from: location.state.from }}>\n                    Cast\n                  </Link>\n                </li>\n                <li>\n                  <Link to=\"reviews\" state={{ from: location.state.from }}>\n                    Reviews\n                  </Link>\n                </li>\n              </ul>\n            </section>\n            <Suspense fallback={<Loader />}>\n              <Outlet />\n            </Suspense>\n          </>\n        )}\n      </main>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["fetchGetTrendingMovies","fetch","options","then","res","ok","json","Promise","reject","Error","fetchGetMovieDetails","id","concat","API","fetchGetCastMovie","fetchGetMovieReviews","fetchSearchMovies","searchQuery","request","key","token","getImage","searchMovie","method","headers","accept","Authorization","Link","styled","NavLink","_templateObject","_taggedTemplateLiteral","_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","movieDetails","setMovieDetails","_useState3","_useState4","status","setStatus","_useState5","_useState6","error","setError","movieId","useParams","location","useLocation","backLinkHref","state","from","useEffect","_ref","title","overview","genres","vote_average","poster_path","release_date","dateRelease","Date","getFullYear","userScore","Math","ceil","poster","catch","message","_jsx","_Fragment","children","_jsxs","className","css","to","type","IoMdArrowRoundBack","Loader","src","defaultImage","alt","length","map","_ref2","name","Suspense","fallback","Outlet"],"sourceRoot":""}