"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[228],{449:function(e,t,n){n.d(t,{SB:function(){return s},Vs:function(){return i},bI:function(){return u},fS:function(){return c},ge:function(){return o}});var r=n(41),o=function(){return fetch("https://api.themoviedb.org/3/trending/all/day?language=en-US",r.Y).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong"))}))},c=function(e){return fetch("".concat(r.b.request).concat(e,"?language=en-US"),r.Y).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong"))}))},i=function(e){return fetch("".concat(r.b.request).concat(e,"/credits"),r.Y).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong"))}))},s=function(e){return fetch("".concat(r.b.request).concat(e,"/reviews"),r.Y).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong"))}))},u=function(e){return fetch("".concat(r.b.searchMovie,"?query=").concat(e,"&include_adult=false&language=en-US&page=1"),r.Y).then((function(e){return e.ok?e.json():Promise.reject(new Error("Oops, something went wrong"))}))}},41:function(e,t,n){n.d(t,{Y:function(){return o},b:function(){return r}});var r={request:"https://api.themoviedb.org/3/movie/",key:"b95b13270f44be3e23d3c62e0852c09c",token:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiOTViMTMyNzBmNDRiZTNlMjNkM2M2MmUwODUyYzA5YyIsInN1YiI6IjY1OTQzYTZkMDI4ZjE0NzY5NGM3MjJkNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.cmSUhygmIIjUC6Ea5HsTcu7XR4RoGg8-6MjFJfqrV7k",getImage:"https://image.tmdb.org/t/p/w500",searchMovie:"https://api.themoviedb.org/3/search/movie"},o={method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat(r.token)}}},228:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(439),o=n(791),c=n(689),i=n(87),s=n(182),u=n(355),a=n(637),h="SearchMovies_form__HxQNH",l="SearchMovies_input__erXo9",f="SearchMovies_button__B86kT",m="SearchMovies_searchList__lWO-5",g="SearchMovies_searchItem__bPvY6",d="SearchMovies_link__Sr4dK",p="SearchMovies_error__K-13S",j=n(449),v=n(184),_=function(){var e,t=(0,o.useState)([]),n=(0,r.Z)(t,2),_=n[0],b=n[1],w=(0,o.useState)(""),k=(0,r.Z)(w,2),S=k[0],M=k[1],N=(0,o.useState)("idle"),y=(0,r.Z)(N,2),I=y[0],x=y[1],Y=(0,o.useState)(""),O=(0,r.Z)(Y,2),J=O[0],Z=O[1],q=(0,c.TH)(),T=(0,i.lr)(),E=(0,r.Z)(T,2),U=E[0],z=E[1],C=null!==(e=U.get("query"))&&void 0!==e?e:"";(0,o.useEffect)((function(){C&&(x("pending"),(0,j.bI)(C).then((function(e){var t=e.results;console.log(t);var n=t.map((function(e){return{id:e.id,title:e.title}}));if(0===n.length)return x("error"),void Z('Nothing found for your request "'.concat(C,'"'));b(n),x("resolved")})).catch((function(e){x("error"),Z(e.message)})))}),[C]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("form",{className:h,onSubmit:function(e){e.preventDefault(),""!==S.trim()?(z({query:S}),M("")):s.Am.warn("Please enter your request")},children:[(0,v.jsx)("input",{type:"text",className:l,name:"searchQuery",value:S,onChange:function(e){M(e.currentTarget.value)}}),(0,v.jsx)("button",{type:"submit",className:f,children:(0,v.jsx)(u.U41,{})})]}),"pending"===I&&(0,v.jsx)(a.Z,{}),"error"===I&&(0,v.jsx)("h1",{className:p,children:J}),"resolved"===I&&(0,v.jsx)("ul",{className:m,children:_.map((function(e){var t=e.id,n=e.title;return(0,v.jsx)("li",{className:g,children:(0,v.jsx)(i.OL,{className:d,to:"".concat(t),state:{from:q},children:n})},t)}))}),(0,v.jsx)(s.Ix,{position:"top-right",autoClose:3e3})]})}}}]);
//# sourceMappingURL=228.b90fb0b1.chunk.js.map