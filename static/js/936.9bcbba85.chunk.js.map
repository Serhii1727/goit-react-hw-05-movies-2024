{"version":3,"file":"static/js/936.9bcbba85.chunk.js","mappings":"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","sources":["components/services/api.js","components/services/support.js","webpack://react-homework-template/./src/pages/Home/Home.module.css?1370","pages/Home/Home.jsx"],"sourcesContent":["import { API, options } from './support';\n\nexport const fetchGetTrendingMovies = () => {\n  return fetch(\n    'https://api.themoviedb.org/3/trending/all/day?language=en-US',\n    options\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetMovieDetails = id => {\n  return fetch(`${API.request}${id}?language=en-US`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetCastMovie = id => {\n  return fetch(`${API.request}${id}/credits`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetMovieReviews = id => {\n  return fetch(`${API.request}${id}/reviews`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchSearchMovies = searchQuery => {\n  return fetch(\n    `${API.searchMovie}?query=${searchQuery}&include_adult=false&language=en-US&page=1`,\n    options\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n","export const API = {\n  request: 'https://api.themoviedb.org/3/movie/',\n  key: 'b95b13270f44be3e23d3c62e0852c09c',\n  token:\n    'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiOTViMTMyNzBmNDRiZTNlMjNkM2M2MmUwODUyYzA5YyIsInN1YiI6IjY1OTQzYTZkMDI4ZjE0NzY5NGM3MjJkNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.cmSUhygmIIjUC6Ea5HsTcu7XR4RoGg8-6MjFJfqrV7k',\n  getImage: 'https://image.tmdb.org/t/p/w500',\n  searchMovie: 'https://api.themoviedb.org/3/search/movie',\n};\n\nexport const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${API.token}`,\n  },\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"Home_main__3ilkD\",\"title\":\"Home_title__L087v\",\"trendingList\":\"Home_trendingList__9nInU\",\"trendingItem\":\"Home_trendingItem__JEDPS\",\"link\":\"Home_link__2zIq5\",\"error\":\"Home_error__42g6p\"};","import { useState, useEffect } from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport Loader from 'components/Loader';\nimport { fetchGetTrendingMovies } from 'components/services/api';\nimport css from './Home.module.css';\n\nconst Home = () => {\n  const [trendingMovies, setTrendingMovies] = useState([]);\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState('');\n  const location = useLocation();\n\n  useEffect(() => {\n    setStatus('pending');\n    fetchGetTrendingMovies()\n      .then(({ results }) => {\n        setTrendingMovies(results);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setStatus('error');\n        setError(error.message);\n      });\n  }, []);\n\n  return (\n    <>\n      {status === 'pending' && <Loader />}\n      {status === 'resolved' && (\n        <main className={css.main}>\n          <h1 className={css.title}>Trending today</h1>\n          <ul className={css.trendingList}>\n            {trendingMovies.map(({ id, title, name }) => {\n              return (\n                <li className={css.trendingItem} key={id}>\n                  <NavLink\n                    className={css.link}\n                    to={`movies/${id}`}\n                    state={{ from: location }}\n                  >\n                    {title ?? name}\n                  </NavLink>\n                </li>\n              );\n            })}\n          </ul>\n        </main>\n      )}\n      {status === 'error' && <h1 className={css.error}>{error}</h1>}\n    </>\n  );\n};\n\nexport default Home;\n"],"names":["fetchGetTrendingMovies","fetch","options","then","res","ok","json","Promise","reject","Error","fetchGetMovieDetails","id","concat","API","fetchGetCastMovie","fetchGetMovieReviews","fetchSearchMovies","searchQuery","request","key","token","getImage","searchMovie","method","headers","accept","Authorization","_useState","useState","_useState2","_slicedToArray","trendingMovies","setTrendingMovies","_useState3","_useState4","status","setStatus","_useState5","_useState6","error","setError","location","useLocation","useEffect","_ref","results","catch","message","_jsxs","_Fragment","children","_jsx","Loader","className","css","map","_ref2","title","name","NavLink","to","state","from"],"sourceRoot":""}