{"version":3,"file":"static/js/228.9013b700.chunk.js","mappings":"kLACA,EAAuB,qBAAvB,EAAmD,qBAAnD,EAA+E,qB,SCsB/E,EApBmB,SAAHA,GAA8B,IAAxBC,EAAMD,EAANC,OAAQC,EAAQF,EAARE,SAC5B,OACEC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAASC,SACrBL,EAAOM,KAAI,SAAAC,GAA0B,IAAvBC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAOC,EAAIH,EAAJG,KACxB,OACER,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAASC,UACtBH,EAAAA,EAAAA,KAACS,EAAAA,GAAO,CACNR,UAAWC,EACXQ,GAAE,WAAAC,OAAaL,GACfM,MAAO,CAAEC,KAAMd,GAAWI,SAEpB,OAALI,QAAK,IAALA,EAAAA,EAASC,KANgBF,EAUlC,KAGN,C,mKCnBaQ,EAAyB,WACpC,OAAOC,MACL,+DACAC,EAAAA,GACAC,MAAK,SAAAC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,IAAIC,MAAM,8BAClC,GACF,EAEaC,EAAuB,SAAAlB,GAClC,OAAOS,MAAM,GAADJ,OAAIc,EAAAA,EAAAA,SAAWd,OAAGL,EAAE,mBAAmBU,EAAAA,GAASC,MAAK,SAAAC,GAC/D,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,IAAIC,MAAM,8BAClC,GACF,EAEaG,EAAoB,SAAApB,GAC/B,OAAOS,MAAM,GAADJ,OAAIc,EAAAA,EAAAA,SAAWd,OAAGL,EAAE,YAAYU,EAAAA,GAASC,MAAK,SAAAC,GACxD,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,IAAIC,MAAM,8BAClC,GACF,EAEaI,EAAuB,SAAArB,GAClC,OAAOS,MAAM,GAADJ,OAAIc,EAAAA,EAAAA,SAAWd,OAAGL,EAAE,YAAYU,EAAAA,GAASC,MAAK,SAAAC,GACxD,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,IAAIC,MAAM,8BAClC,GACF,EAEaK,EAAoB,SAAAC,GAC/B,OAAOd,MAAM,GAADJ,OACPc,EAAAA,EAAAA,YAAe,WAAAd,OAAUkB,EAAW,8CACvCb,EAAAA,GACAC,MAAK,SAAAC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,IAAIC,MAAM,8BAClC,GACF,C,4ECnDO,IAAME,EAAM,CACjBK,QAAS,sCACTC,IAAK,mCACLC,MACE,sNACFC,SAAU,kCACVC,YAAa,6CAGFlB,EAAU,CACrBmB,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cAAc,UAAD3B,OAAYc,EAAIO,Q,8ICZjC,EAAuB,2BAAvB,EAA0D,4BAA1D,EAA+F,6BAA/F,EAAoI,4B,kBCuGpI,EA/FqB,WAAO,IAADO,EACzBC,GAAgDC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAArDI,EAAgBF,EAAA,GAAEG,EAAmBH,EAAA,GAC5CI,GAA0CL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA/CE,EAAaD,EAAA,GAAEE,EAAgBF,EAAA,GACtCG,GAA4BT,EAAAA,EAAAA,UAAS,QAAOU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAArCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GACxBG,GAA0Bb,EAAAA,EAAAA,UAAS,IAAGc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAEhBxD,GAAW2D,EAAAA,EAAAA,MAEjBC,GAAsCC,EAAAA,EAAAA,MAAiBC,GAAAlB,EAAAA,EAAAA,GAAAgB,EAAA,GAAhDG,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAE5BhC,EAAsC,QAA3BU,EAAGuB,EAAYE,IAAI,gBAAQ,IAAAzB,EAAAA,EAAI,IAEhD0B,EAAAA,EAAAA,YAAU,WACHpC,IAGLwB,EAAU,YAEVzB,EAAAA,EAAAA,IAAkBC,GACfZ,MAAK,SAAApB,GAAkB,IAChBqE,EADQrE,EAAPsE,QACsB/D,KAAI,SAAAC,GAC/B,MAAO,CAAEC,GAD2BD,EAAFC,GACrBC,MAD8BF,EAALE,MAExC,IACA,GAA4B,IAAxB2D,EAAaE,OAGf,OAFAf,EAAU,cACVI,EAAS,mCAAD9C,OAAoCkB,EAAW,MAIzDgB,EAAoBqB,GACpBb,EAAU,WACZ,IACCgB,OAAM,SAAAb,GACLH,EAAU,SACVI,EAASD,EAAMc,QACjB,IACJ,GAAG,CAACzC,IAkBJ,OACE0C,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAArE,SAAA,EACEoE,EAAAA,EAAAA,MAAA,QAAMtE,UAAWC,EAAUuE,SAlBV,SAAAC,GACnBA,EAAMC,iBACuB,KAAzB3B,EAAc4B,QAKlBb,EAAe,CAAEc,MAAO7B,IAExBC,EAAiB,KANf6B,EAAAA,GAAAA,KAAW,4BAOf,EAQsD3E,SAAA,EAChDH,EAAAA,EAAAA,KAAA,SACE+E,KAAK,OACL9E,UAAWC,EACXM,KAAK,cACLwE,MAAOhC,EACPiC,SAZY,SAAAP,GAClBzB,EAAiByB,EAAMQ,cAAcF,MACvC,KAYMhF,EAAAA,EAAAA,KAAA,UAAQ+E,KAAK,SAAS9E,UAAWC,EAAWC,UAC1CH,EAAAA,EAAAA,KAACmF,EAAAA,IAAQ,SAGD,YAAX/B,IAAwBpD,EAAAA,EAAAA,KAACoF,EAAAA,EAAM,IACpB,UAAXhC,IAAsBpD,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAUC,SAAEqD,IACtC,aAAXJ,IACCpD,EAAAA,EAAAA,KAACqF,EAAAA,EAAU,CAACvF,OAAQ8C,EAAkB7C,SAAUA,KAmBlDC,EAAAA,EAAAA,KAACsF,EAAAA,GAAc,CAACC,SAAS,YAAYC,UAAW,QAGtD,C","sources":["webpack://react-homework-template/./src/components/MoviesList/Movies.module.css?fddf","components/MoviesList/MoviesList.jsx","components/services/api.js","components/services/support.js","webpack://react-homework-template/./src/pages/SearchMovies/SearchMovies.module.css?db5e","pages/SearchMovies/SearchMovies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Movies_list__60yww\",\"item\":\"Movies_item__JuFo4\",\"link\":\"Movies_link__AT-t+\"};","import { NavLink } from 'react-router-dom';\nimport css from './Movies.module.css';\n\nconst MoviesList = ({ movies, location }) => {\n  return (\n    <ul className={css.list}>\n      {movies.map(({ id, title, name }) => {\n        return (\n          <li className={css.item} key={id}>\n            <NavLink\n              className={css.link}\n              to={`/movies/${id}`}\n              state={{ from: location }}\n            >\n              {title ?? name}\n            </NavLink>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","import { API, options } from './support';\n\nexport const fetchGetTrendingMovies = () => {\n  return fetch(\n    'https://api.themoviedb.org/3/trending/all/day?language=en-US',\n    options\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetMovieDetails = id => {\n  return fetch(`${API.request}${id}?language=en-US`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetCastMovie = id => {\n  return fetch(`${API.request}${id}/credits`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchGetMovieReviews = id => {\n  return fetch(`${API.request}${id}/reviews`, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n\nexport const fetchSearchMovies = searchQuery => {\n  return fetch(\n    `${API.searchMovie}?query=${searchQuery}&include_adult=false&language=en-US&page=1`,\n    options\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Oops, something went wrong'));\n  });\n};\n","export const API = {\n  request: 'https://api.themoviedb.org/3/movie/',\n  key: 'b95b13270f44be3e23d3c62e0852c09c',\n  token:\n    'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiOTViMTMyNzBmNDRiZTNlMjNkM2M2MmUwODUyYzA5YyIsInN1YiI6IjY1OTQzYTZkMDI4ZjE0NzY5NGM3MjJkNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.cmSUhygmIIjUC6Ea5HsTcu7XR4RoGg8-6MjFJfqrV7k',\n  getImage: 'https://image.tmdb.org/t/p/w500',\n  searchMovie: 'https://api.themoviedb.org/3/search/movie',\n};\n\nexport const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${API.token}`,\n  },\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchMovies_form__HxQNH\",\"input\":\"SearchMovies_input__erXo9\",\"button\":\"SearchMovies_button__B86kT\",\"error\":\"SearchMovies_error__K-13S\"};","import { useEffect, useState } from 'react';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { FaSearch } from 'react-icons/fa';\nimport MoviesList from 'components/MoviesList';\nimport Loader from 'components/Loader';\nimport css from './SearchMovies.module.css';\nimport { fetchSearchMovies } from 'components/services/api';\n\nconst SearchMovies = () => {\n  const [listFilterMovies, setListFilterMovies] = useState([]);\n  const [searchInInput, setSearchInInput] = useState('');\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState('');\n\n  const location = useLocation();\n\n  const [searchParam, setSearchParam] = useSearchParams();\n\n  const searchQuery = searchParam.get('query') ?? '';\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    setStatus('pending');\n\n    fetchSearchMovies(searchQuery)\n      .then(({ results }) => {\n        const searchMovies = results.map(({ id, title }) => {\n          return { id, title };\n        });\n        if (searchMovies.length === 0) {\n          setStatus('error');\n          setError(`Nothing found for your request \"${searchQuery}\"`);\n          return;\n        }\n\n        setListFilterMovies(searchMovies);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setStatus('error');\n        setError(error.message);\n      });\n  }, [searchQuery]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (searchInInput.trim() === '') {\n      toast.warn('Please enter your request');\n      return;\n    }\n\n    setSearchParam({ query: searchInInput });\n\n    setSearchInInput('');\n  };\n\n  const changeInput = event => {\n    setSearchInInput(event.currentTarget.value);\n  };\n\n  return (\n    <>\n      <form className={css.form} onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          className={css.input}\n          name=\"searchQuery\"\n          value={searchInInput}\n          onChange={changeInput}\n        ></input>\n        <button type=\"submit\" className={css.button}>\n          <FaSearch />\n        </button>\n      </form>\n      {status === 'pending' && <Loader />}\n      {status === 'error' && <h1 className={css.error}>{error}</h1>}\n      {status === 'resolved' && (\n        <MoviesList movies={listFilterMovies} location={location} />\n\n        // <ul className={css.searchList}>\n        //   {listFilterMovies.map(({ id, title }) => {\n        //     return (\n        //       <li className={css.searchItem} key={id}>\n        //         <NavLink\n        //           className={css.link}\n        //           to={`${id}`}\n        //           state={{ from: location }}\n        //         >\n        //           {title}\n        //         </NavLink>\n        //       </li>\n        //     );\n        //   })}\n        // </ul>\n      )}\n\n      <ToastContainer position=\"top-right\" autoClose={3000} />\n    </>\n  );\n};\n\nexport default SearchMovies;\n"],"names":["_ref","movies","location","_jsx","className","css","children","map","_ref2","id","title","name","NavLink","to","concat","state","from","fetchGetTrendingMovies","fetch","options","then","res","ok","json","Promise","reject","Error","fetchGetMovieDetails","API","fetchGetCastMovie","fetchGetMovieReviews","fetchSearchMovies","searchQuery","request","key","token","getImage","searchMovie","method","headers","accept","Authorization","_searchParam$get","_useState","useState","_useState2","_slicedToArray","listFilterMovies","setListFilterMovies","_useState3","_useState4","searchInInput","setSearchInInput","_useState5","_useState6","status","setStatus","_useState7","_useState8","error","setError","useLocation","_useSearchParams","useSearchParams","_useSearchParams2","searchParam","setSearchParam","get","useEffect","searchMovies","results","length","catch","message","_jsxs","_Fragment","onSubmit","event","preventDefault","trim","query","toast","type","value","onChange","currentTarget","FaSearch","Loader","MoviesList","ToastContainer","position","autoClose"],"sourceRoot":""}